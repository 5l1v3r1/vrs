<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>::WA_Title_Options:: - ::WA_Title_WebAdmin::</title>
        @head.html@
        <script src="../script/webadmin/jquery-ui.js" type="text/javascript"></script>
        <script src="../script/webadmin/form-processor/form.js" type="text/javascript"></script>
        <script src="../script/webadmin/form-processor/jquiplugin-form-fields.js" type="text/javascript"></script>
        <script src="../script/webadmin/form-processor/jquiplugin-form-page.js" type="text/javascript"></script>
        <script src="../script/webadmin/form-processor/jquiplugin-form-processor.js" type="text/javascript"></script>
        <!-- [[ BUNDLE END ]] -->
    </head>
    <body>
        <div id="page-container">
            <div id="content" class="container-fluid">
                <div class="row row-offcanvas row-offcanvas-left">
                    <div class="col-xs-12 col-sm-9">
                        <h1 class="page-header">
                            ::WA_Title_Options::
                        </h1>

                        <form></form>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            (function(VRS, $, undefined)
            {
                //region Form declaration
                var _Form = $('form');
                var _Presenter = null;
                var _Root = 'Configuration';
                var _BaseStationSettings = _Root + '.BaseStationSettings';

                var _FormSettings = new VRS.WebAdmin.Form({
                    pages: [
                        { title: '::OptionsDataSourcesSheetTitle::', fields: [
                            { property: _BaseStationSettings + '.DatabaseFileName',     label: '::DatabaseFileName::',  type: 'string' },
                            { property: _BaseStationSettings + '.OperatorFlagsFolder',  label: '::FlagsFolder::',       type: 'string' },
                            { property: _BaseStationSettings + '.SilhouettesFolder',    label: '::SilhouettesFolder::', type: 'string' },
                            { property: _BaseStationSettings + '.PicturesFolder',       label: '::PicturesFolder::',    type: 'string' }
                        ]}
                    ]
                });
                //endregion

                //region SettingsView
                VRS.WebAdmin.SettingsView = function(settings)
                {
                    VRS.WebAdmin.View.call(this, settings);

                    this.addElements = function()
                    {
                        _Form.formProcessor({
                            formSpec: _FormSettings
                        });
                        _Presenter = new VRS.WebAdmin.FormPresenter({
                            formUI: _Form
                        });
                    };

                    /**
                        * Shows the content sent from the server.
                        * @param {VRS_WEBADMIN_VIEWDATA_SETTINGS} data
                        */
                    this.showContent = function(data)
                    {
                        _Presenter.refreshContent(data);
                    };
                };
                VRS.WebAdmin.SettingsView.prototype = VRS.objectHelper.subclassOf(VRS.WebAdmin.View);
                //endregion

                var settingsView = new VRS.WebAdmin.SettingsView({
                    pageUrl: 'Options.html',
                    jsonUrl: 'Options.json',
                    refreshPeriod: 0
                });
                settingsView.initialise();
            }(window.VRS = window.VRS || {}, jQuery));
        </script>
    </body>
</html>
